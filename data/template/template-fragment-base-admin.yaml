# Admin Module Template Fragments

TemplateFragment:
  - meta:
      tablename: template_fragments
      schema: public
    data:
      template_uuid: 00000000-0000-0000-0000-000000000002
      fragment_type: base
      fragment_name: Admin Base Layout
      fragment_key: admin_base_layout
      template_file_path: admin/fragments/base_layout.html
      compiled_file_path: compiled/admin/fragments/base_layout.html
      content_type: text/html
      version_number: 1
      version_label: v1.0.0
      is_active: true
      template_source: |
        <div class="container-fluid admin-layout p-0">
          <div class="row g-0 min-vh-100">
            <div class="col-12">
              {{ render_fragment('admin_header') }}
            </div>
            <div class="col-12">
              <div class="row g-0">
                <div class="col-auto">
                  {{ render_fragment('admin_sidebar') }}
                </div>
                <div class="col">
                  {{ render_fragment('admin_main_content') }}
                </div>
              </div>
            </div>
            <div class="col-12 mt-auto">
              {{ render_fragment('admin_footer') }}
            </div>
          </div>
        </div>
      template_hash: null
      variables_schema: |
        {
          "type": "object",
          "properties": {
            "page_title": {"type": "string"},
            "current_user": {"type": "object"},
            "app_name": {"type": "string"}
          }
        }
      sample_data: |
        {
          "page_title": "Admin Dashboard",
          "current_user": {"name": "Admin User"},
          "app_name": "System Admin"
        }
      required_context: |
        ["current_user", "app_name"]
      dependencies: |
        ["admin_header", "admin_sidebar", "admin_main_content", "admin_footer"]
      css_dependencies: |
        ["/static/css/bootstrap.min.css", "/static/css/admin.css"]
      js_dependencies: |
        ["/static/js/bootstrap.bundle.min.js", "/static/js/admin.js"]
      description: Base layout container for admin interface using OpenShift PatternFly design
      usage_notes: Root container with CSS Grid layout for admin pages
      preview_template: admin/previews/base_layout.html
      sort_order: 1
      is_partial: false
      cache_strategy: static
      cache_duration: 3600
      last_compiled: null
      change_description: Initial admin base layout fragment
      created_by_user_uuid: null

  - meta:
      tablename: template_fragments
      schema: public
    data:
      template_uuid: 00000000-0000-0000-0000-000000000002
      fragment_type: header
      fragment_name: Admin Header Bar
      fragment_key: admin_header
      template_file_path: admin/fragments/header.html
      compiled_file_path: compiled/admin/fragments/header.html
      content_type: text/html
      version_number: 1
      version_label: v1.0.0
      is_active: true
      template_source: |
        <header class="navbar navbar-expand-lg navbar-dark bg-dark admin-header sticky-top">
          <div class="container-fluid">
            <button class="navbar-toggler d-lg-none me-2" type="button" data-bs-toggle="collapse" data-bs-target="#admin-sidebar" id="admin-nav-toggle">
              <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand d-flex align-items-center" href="/admin">
              <img src="/static/img/admin-logo.svg" alt="{{ app_name }} Admin" height="32" class="me-2">
              <span class="admin-brand-text">{{ app_name }} Admin</span>
            </a>
            <div class="navbar-nav ms-auto">
              <div class="nav-item dropdown">
                <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="admin-user-menu" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <img src="{{ current_user.avatar_url or '/static/img/default-avatar.svg' }}" alt="User avatar" class="rounded-circle me-2" width="32" height="32">
                  <span>{{ current_user.name }}</span>
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="admin-user-menu">
                  <li><a class="dropdown-item" href="/admin/profile"><i class="fas fa-user me-2"></i>Profile</a></li>
                  <li><a class="dropdown-item" href="/admin/settings"><i class="fas fa-cog me-2"></i>Settings</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="/logout"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                </ul>
              </div>
            </div>
          </div>
        </header>
      template_hash: null
      variables_schema: |
        {
          "type": "object",
          "properties": {
            "current_user": {
              "type": "object",
              "properties": {
                "name": {"type": "string"},
                "avatar_url": {"type": "string"}
              },
              "required": ["name"]
            },
            "app_name": {"type": "string"}
          },
          "required": ["current_user", "app_name"]
        }
      sample_data: |
        {
          "current_user": {
            "name": "Admin User",
            "avatar_url": "/static/img/admin-avatar.jpg"
          },
          "app_name": "System"
        }
      required_context: |
        ["current_user", "app_name"]
      dependencies: null
      css_dependencies: |
        ["/static/css/bootstrap.min.css"]
      js_dependencies: |
        ["/static/js/admin-header.js"]
      description: Admin interface header with navigation toggle and user menu
      usage_notes: Sticky header bar for admin interface
      preview_template: admin/previews/header.html
      sort_order: 2
      is_partial: true
      cache_strategy: dynamic
      cache_duration: 300
      last_compiled: null
      change_description: Initial admin header fragment
      created_by_user_uuid: null

  - meta:
      tablename: template_fragments
      schema: public
    data:
      template_uuid: 00000000-0000-0000-0000-000000000002
      fragment_type: sidebar
      fragment_name: Admin Left Navigation
      fragment_key: admin_sidebar
      template_file_path: admin/fragments/sidebar.html
      compiled_file_path: compiled/admin/fragments/sidebar.html
      content_type: text/html
      version_number: 1
      version_label: v1.0.0
      is_active: true
      template_source: |
        <nav class="col-auto bg-dark admin-sidebar collapse d-lg-block" id="admin-sidebar" style="width: 280px;">
          <div class="position-sticky pt-3">
            <div class="nav flex-column admin-nav">
              {{ get_menu() }}
            </div>
          </div>
        </nav>
      template_hash: null
      variables_schema: |
        {
          "type": "object",
          "properties": {}
        }
      sample_data: |
        {}
      required_context: null
      dependencies: |
        ["get_menu"]
      css_dependencies: |
        ["/static/css/bootstrap.min.css", "/static/css/admin-nav.css"]
      js_dependencies: |
        ["/static/js/admin-sidebar.js"]
      description: Collapsible left navigation sidebar for admin interface
      usage_notes: Uses get_menu() function to dynamically generate navigation items
      preview_template: admin/previews/sidebar.html
      sort_order: 3
      is_partial: true
      cache_strategy: dynamic
      cache_duration: 600
      last_compiled: null
      change_description: Initial admin sidebar navigation fragment
      created_by_user_uuid: null

  - meta:
      tablename: template_fragments
      schema: public
    data:
      template_uuid: 00000000-0000-0000-0000-000000000002
      fragment_type: content
      fragment_name: Admin Main Content Area
      fragment_key: admin_main_content
      template_file_path: admin/fragments/main_content.html
      compiled_file_path: compiled/admin/fragments/main_content.html
      content_type: text/html
      version_number: 1
      version_label: v1.0.0
      is_active: true
      template_source: |
        <main class="col admin-main flex-grow-1">
          <nav aria-label="breadcrumb" class="bg-light px-3 py-2 border-bottom">
            <ol class="breadcrumb mb-0">
              {{ render_breadcrumbs() }}
            </ol>
          </nav>
          
          <div class="container-fluid p-4 admin-content">
            {% if page_title %}
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h1 class="h2 admin-page-title">{{ page_title }}</h1>
              <div class="admin-page-actions">
                {% block page_actions %}{% endblock %}
              </div>
            </div>
            {% endif %}
            
            <!-- Admin Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                <div class="admin-alerts mb-4">
                  {% for category, message in messages %}
                  <div class="alert alert-{{ 'danger' if category == 'error' else 'success' if category == 'success' else 'info' }} alert-dismissible fade show" role="alert">
                    <i class="fas fa-{{ 'exclamation-circle' if category == 'error' else 'check-circle' if category == 'success' else 'info-circle' }} me-2"></i>
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                  {% endfor %}
                </div>
              {% endif %}
            {% endwith %}
            
            <!-- Admin Content -->
            <div class="admin-content-wrapper">
              {% block content %}
              <div class="text-center py-5">
                <div class="mb-4">
                  <i class="fas fa-cogs fa-3x text-muted"></i>
                </div>
                <h3 class="text-muted">Admin Content</h3>
                <p class="text-muted">No content block defined for this admin page.</p>
              </div>
              {% endblock %}
            </div>
          </div>
        </main>
      template_hash: null
      variables_schema: |
        {
          "type": "object",
          "properties": {
            "page_title": {"type": "string"},
            "page_actions": {"type": "string"}
          }
        }
      sample_data: |
        {
          "page_title": "Dashboard",
          "page_actions": "<button class='pf-c-button pf-m-primary'>New Item</button>"
        }
      required_context: null
      dependencies: |
        ["render_breadcrumbs", "get_flashed_messages"]
      css_dependencies: |
        ["/static/css/bootstrap.min.css", "/static/css/admin-content.css"]
      js_dependencies: |
        ["/static/js/admin-content.js"]
      description: Main content area for admin pages with breadcrumbs and flash messages
      usage_notes: Includes content block for page-specific content and page_actions block for action buttons
      preview_template: admin/previews/main_content.html
      sort_order: 4
      is_partial: true
      cache_strategy: none
      cache_duration: 0
      last_compiled: null
      change_description: Initial admin main content fragment
      created_by_user_uuid: null

  - meta:
      tablename: template_fragments
      schema: public
    data:
      template_uuid: 00000000-0000-0000-0000-000000000002
      fragment_type: footer
      fragment_name: Admin Footer Bar
      fragment_key: admin_footer
      template_file_path: admin/fragments/footer.html
      compiled_file_path: compiled/admin/fragments/footer.html
      content_type: text/html
      version_number: 1
      version_label: v1.0.0
      is_active: true
      template_source: |
        <footer class="bg-light border-top admin-footer mt-auto">
          <div class="container-fluid py-3">
            <div class="row align-items-center">
              <div class="col">
                <small class="text-muted">&copy; 2025 {{ app_name }} Admin. All rights reserved.</small>
              </div>
              <div class="col-auto">
                <small class="text-muted">
                  Admin v{{ app_version }} | 
                  System Status: <span class="badge bg-{{ 'success' if system_status == 'Online' else 'warning' }} admin-status-indicator">{{ system_status or "Online" }}</span>
                </small>
              </div>
            </div>
          </div>
        </footer>
      template_hash: null
      variables_schema: |
        {
          "type": "object",
          "properties": {
            "app_name": {"type": "string"},
            "app_version": {"type": "string"},
            "system_status": {"type": "string"}
          },
          "required": ["app_name"]
        }
      sample_data: |
        {
          "app_name": "System",
          "app_version": "1.0.0",
          "system_status": "Online"
        }
      required_context: |
        ["app_name"]
      dependencies: null
      css_dependencies: |
        ["/static/css/bootstrap.min.css", "/static/css/admin-footer.css"]
      js_dependencies: null
      description: Admin interface footer with system information and status
      usage_notes: Shows admin-specific information like system status
      preview_template: admin/previews/footer.html
      sort_order: 5
      is_partial: true
      cache_strategy: static
      cache_duration: 1800
      last_compiled: null
      change_description: Initial admin footer fragment
      created_by_user_uuid: null