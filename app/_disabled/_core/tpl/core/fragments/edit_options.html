<div>
    <div class="card mt-3 mb-3">
      <div class="card-header">Data Display Settings</div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <div class="mb-3">
              <label for="results_limit" class="form-label">Results Limit</label>
              <input type="number" id="results_limit" class="form-control" min="0" 
                     value="{{ crud_def.options.results_limit|default(0) }}">
              <div class="form-text">Maximum number of records to return (0 = no limit)</div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-check form-switch mt-4">
              <input class="form-check-input" type="checkbox" id="is_datatable" 
                    {% if crud_def.options.is_datatable %}checked{% endif %}>
              <label class="form-check-label" for="is_datatable">
                Use DataTable
              </label>
              <div class="form-text">Display results in an interactive table</div>
            </div>
          </div>
        </div>

        <div id="datatable_options" class="mt-3" {% if not crud_def.options.is_datatable %}style="display:none;"{% endif %}>
          <div class="row">
            <div class="col-md-3">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="dt_is_live" 
                      {% if crud_def.options.datatable.is_live %}checked{% endif %}>
                <label class="form-check-label" for="dt_is_live">
                  Live Updates
                </label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="dt_is_searchable" 
                      {% if crud_def.options.datatable.is_searchable %}checked{% endif %}>
                <label class="form-check-label" for="dt_is_searchable">
                  Searchable
                </label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="dt_is_filterable" 
                      {% if crud_def.options.datatable.is_filterable %}checked{% endif %}>
                <label class="form-check-label" for="dt_is_filterable">
                  Filterable
                </label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="dt_is_exportable" 
                      {% if crud_def.options.datatable.is_exportable %}checked{% endif %}>
                <label class="form-check-label" for="dt_is_exportable">
                  Exportable
                </label>
              </div>
            </div>
          </div>

          <div class="row mt-3" id="export_formats_row" {% if not crud_def.options.datatable.is_exportable %}style="display:none;"{% endif %}>
            <div class="col-md-6">
              <label for="dt_export_formats" class="form-label">Export Formats</label>
              <input type="text" id="dt_export_formats" class="form-control" 
                     value="{{ crud_def.options.datatable.export_formats|default('csv,xlsx') }}">
              <div class="form-text">Comma-separated list of export formats (e.g., csv,xlsx)</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Hidden options field - filled by JavaScript -->
    <input type="hidden" id="options_json" name="options_json" value="{{ crud_def.options_json }}">
</div>